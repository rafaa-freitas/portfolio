import React, { RefObject, useEffect, useState } from 'react';

interface VsCodeProps {
  cursorPosition: { x: number; y: number };
  cardsRef: RefObject<HTMLDivElement>;
  mouseOnCard: boolean;
}
function VsCode({ cursorPosition, cardsRef, mouseOnCard }: VsCodeProps) {
  const [gradientCenter, setGradientCenter] = useState({
    cx: '50%',
    cy: '50%',
  });

  useEffect(() => {
    if (
      cardsRef.current !== null &&
      cursorPosition.x !== null &&
      cursorPosition.y !== null
    ) {
      const cardRect = cardsRef.current.getBoundingClientRect();
      const cxPercentage = (cursorPosition.x / cardRect.width) * 100;
      const cyPercentage = (cursorPosition.y / cardRect.height) * 100;

      setGradientCenter({
        cx: `${cxPercentage}%`,
        cy: `${cyPercentage}%`,
      });
      console.log(cursorPosition.x, cursorPosition.y);
      console.log(cardRect.width, cardRect.height);
    }
  }, [cursorPosition, cardsRef]);

  return (
    <svg
      viewBox="0 0 247 247"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-20 h-20 duration-200 transition-all -z-50"
    >
      <defs>
        <radialGradient
          id="blueGradient"
          gradientUnits="userSpaceOnUse"
          r="35%"
          cx={gradientCenter.cx}
          cy={gradientCenter.cy}
        >
          {mouseOnCard && <stop stopColor="#1F7FF0" />}
          <stop offset={1} stopColor="#4e515d" />
        </radialGradient>
      </defs>
      <path
        d="M4.55815 116.73L62.5582 16.271C71.3947 0.965607 90.9656 -4.2784 106.271 4.55815L206.73 62.5581C222.035 71.3947 227.279 90.9656 218.443 106.271L160.443 206.73C151.606 222.035 132.035 227.279 116.73 218.443L16.271 160.443C0.965611 151.606 -4.2784 132.035 4.55815 116.73Z"
        fill="#1B1F2E"
      />

      <path
        d="M62.5582 16.271L63.4242 16.771L62.5582 16.271ZM4.55815 116.73L3.69213 116.23L4.55815 116.73ZM16.271 160.443L16.771 159.577L16.271 160.443ZM116.73 218.443L116.23 219.309L116.73 218.443ZM160.443 206.73L159.577 206.23L159.577 206.23L160.443 206.73ZM218.443 106.271L219.309 106.771L219.309 106.771L218.443 106.271ZM206.73 62.5581L207.23 61.6921L207.23 61.6921L206.73 62.5581ZM106.271 4.55815L105.771 5.42418L105.771 5.42418L106.271 4.55815ZM76.3077 72.2385L77.26 71.9335L77.2428 71.8798L77.2197 71.8284L76.3077 72.2385ZM78.7541 68.9654L78.906 69.9538L78.9325 69.9497L78.9587 69.9442L78.7541 68.9654ZM87.6041 67.1161L87.8086 68.095L87.8484 68.0866L87.8873 68.0751L87.6041 67.1161ZM91.1706 68.8737L90.2255 69.2005L90.2363 69.2318L90.2492 69.2623L91.1706 68.8737ZM121.488 140.749L122.354 141.249L122.603 140.819L122.41 140.36L121.488 140.749ZM110.199 160.303L111.06 160.811L111.065 160.803L110.199 160.303ZM104.655 160.745L103.703 161.05L103.806 161.371L104.083 161.565L104.655 160.745ZM82.9135 92.8581L83.8658 92.5531L83.5887 91.6878L82.7008 91.8809L82.9135 92.8581ZM61.7436 97.4643L61.8593 98.4576L61.9081 98.4519L61.9562 98.4415L61.7436 97.4643ZM60.0361 100.422L59.0434 100.543L59.0548 100.636L59.0834 100.726L60.0361 100.422ZM63.0968 110.006L64.0713 109.782L64.062 109.741L64.0494 109.702L63.0968 110.006ZM67.0199 111.969L66.8951 110.977L66.8741 110.98L66.8533 110.983L67.0199 111.969ZM88.1811 109.307L88.306 110.299L89.5008 110.149L89.1335 109.002L88.1811 109.307ZM107.226 107.034L106.305 107.422L106.6 108.124L107.355 108.026L107.226 107.034ZM143.911 102.293L144.04 103.285L144.535 103.22L144.782 102.785L143.911 102.293ZM154.976 82.7474L155.846 83.24L155.906 83.1341L155.939 83.0169L154.976 82.7474ZM99.7521 89.2652L99.5389 88.2882L98.3641 88.5445L98.8303 89.653L99.7521 89.2652ZM104.64 160.771L103.662 160.981L103.666 161L103.671 161.018L104.64 160.771ZM107.323 163.677L107.072 164.645L107.163 164.669L107.257 164.675L107.323 163.677ZM132.809 165.355L132.744 166.353L132.814 166.358L132.884 166.352L132.809 165.355ZM137.232 162.736L136.366 162.236L136.325 162.308L136.296 162.385L137.232 162.736ZM170.941 104.352L171.807 104.852L171.807 104.852L170.941 104.352ZM170.308 99.3816L169.481 99.9446L169.516 99.9957L169.557 100.042L170.308 99.3816ZM157.897 81.1632L157.016 81.6371L157.041 81.6831L157.07 81.7263L157.897 81.1632ZM110.405 159.947L109.538 159.447L109.538 159.447L110.405 159.947ZM109.186 161.273L109.741 162.106L109.75 162.099L109.186 161.273ZM104.58 160.493L105.204 159.711L103.013 157.962L103.603 160.703L104.58 160.493ZM61.6921 15.771L3.69213 116.23L5.42418 117.23L63.4242 16.771L61.6921 15.771ZM15.771 161.309L116.23 219.309L117.23 217.577L16.771 159.577L15.771 161.309ZM161.309 207.23L219.309 106.771L217.577 105.771L159.577 206.23L161.309 207.23ZM207.23 61.6921L106.771 3.69213L105.771 5.42418L206.23 63.4242L207.23 61.6921ZM219.309 106.771C228.421 90.9873 223.014 70.8048 207.23 61.6921L206.23 63.4242C221.057 71.9846 226.137 90.9439 217.577 105.771L219.309 106.771ZM116.23 219.309C132.014 228.421 152.196 223.014 161.309 207.23L159.577 206.23C151.016 221.057 132.057 226.137 117.23 217.577L116.23 219.309ZM3.69213 116.23C-5.42057 132.014 -0.0126816 152.196 15.771 161.309L16.771 159.577C1.9439 151.016 -3.13623 132.057 5.42418 117.23L3.69213 116.23ZM63.4242 16.771C71.9846 1.9439 90.9439 -3.13623 105.771 5.42418L106.771 3.69213C90.9873 -5.42057 70.8048 -0.0126857 61.6921 15.771L63.4242 16.771ZM76.3077 72.2385C77.2197 71.8284 77.2199 71.8289 77.2202 71.8294C77.2202 71.8296 77.2205 71.8301 77.2206 71.8304C77.2209 71.831 77.2212 71.8316 77.2214 71.8322C77.2219 71.8333 77.2223 71.8343 77.2227 71.8351C77.2234 71.8368 77.2239 71.8379 77.2241 71.8384C77.2246 71.8395 77.2241 71.8383 77.2228 71.8351C77.2201 71.8285 77.2144 71.8139 77.2069 71.7923C77.1917 71.7486 77.1703 71.6799 77.1518 71.5944C77.1131 71.4157 77.0962 71.208 77.136 71.0141C77.1718 70.8395 77.2556 70.6571 77.4646 70.4835C77.6872 70.2987 78.111 70.0759 78.906 69.9538L78.6023 67.977C77.5647 68.1364 76.7664 68.4635 76.1866 68.9451C75.5932 69.438 75.2945 70.0387 75.1768 70.6121C75.0632 71.1661 75.122 71.6711 75.1972 72.0182C75.2357 72.1955 75.2809 72.3429 75.318 72.4496C75.3367 72.5032 75.3536 72.5474 75.367 72.5808C75.3737 72.5976 75.3796 72.6117 75.3845 72.623C75.3869 72.6287 75.389 72.6337 75.3909 72.638C75.3919 72.6401 75.3927 72.6421 75.3935 72.6439C75.3939 72.6448 75.3943 72.6456 75.3946 72.6464C75.3948 72.6468 75.3951 72.6474 75.3952 72.6476C75.3954 72.6481 75.3957 72.6487 76.3077 72.2385ZM78.9587 69.9442L87.8086 68.095L87.3996 66.1372L78.5496 67.9865L78.9587 69.9442ZM87.6041 67.1161C87.8873 68.0751 87.8869 68.0753 87.8865 68.0754C87.8863 68.0754 87.8859 68.0756 87.8857 68.0756C87.8851 68.0758 87.8846 68.0759 87.8842 68.0761C87.8833 68.0763 87.8826 68.0765 87.882 68.0767C87.8808 68.0771 87.8802 68.0772 87.8802 68.0772C87.8801 68.0772 87.8824 68.0766 87.8868 68.0754C87.8958 68.0731 87.9132 68.0687 87.9381 68.0632C87.9884 68.052 88.067 68.0366 88.1662 68.0237C88.3688 67.9974 88.6329 67.9849 88.9041 68.0268C89.3953 68.1026 89.929 68.3429 90.2255 69.2005L92.1157 68.5469C91.5303 66.8539 90.2807 66.2155 89.2091 66.0502C88.699 65.9714 88.2368 65.9978 87.9085 66.0404C87.7422 66.062 87.6043 66.0886 87.5042 66.1108C87.454 66.122 87.4129 66.1321 87.3821 66.1402C87.3667 66.1442 87.3537 66.1477 87.3435 66.1506C87.3384 66.152 87.3339 66.1533 87.3301 66.1543C87.3283 66.1549 87.3265 66.1554 87.325 66.1558C87.3242 66.1561 87.3235 66.1563 87.3228 66.1565C87.3224 66.1566 87.322 66.1567 87.3218 66.1568C87.3213 66.1569 87.3209 66.157 87.6041 67.1161ZM90.2492 69.2623L120.567 141.138L122.41 140.36L92.092 68.485L90.2492 69.2623ZM120.622 140.249L109.333 159.803L111.065 160.803L122.354 141.249L120.622 140.249ZM110.199 160.303C109.337 159.796 109.337 159.795 109.337 159.795C109.338 159.795 109.338 159.794 109.338 159.794C109.338 159.793 109.339 159.793 109.339 159.792C109.34 159.791 109.34 159.79 109.341 159.789C109.342 159.788 109.342 159.787 109.342 159.787C109.342 159.787 109.341 159.789 109.338 159.793C109.332 159.802 109.321 159.82 109.303 159.845C109.266 159.895 109.207 159.972 109.125 160.061C108.958 160.241 108.715 160.452 108.401 160.601C107.854 160.862 106.849 161.057 105.228 159.925L104.083 161.565C106.206 163.047 107.973 163.021 109.261 162.407C109.865 162.12 110.306 161.73 110.593 161.419C110.738 161.262 110.849 161.121 110.925 161.014C110.964 160.961 110.994 160.915 111.017 160.881C111.028 160.864 111.037 160.849 111.044 160.837C111.048 160.831 111.051 160.826 111.054 160.822C111.055 160.819 111.056 160.817 111.057 160.816C111.058 160.815 111.058 160.814 111.059 160.813C111.059 160.813 111.06 160.812 111.06 160.812C111.06 160.811 111.06 160.811 110.199 160.303ZM105.607 160.44L77.26 71.9335L75.3553 72.5435L103.703 161.05L105.607 160.44ZM82.7008 91.8809L61.5309 96.4872L61.9562 98.4415L83.1261 93.8352L82.7008 91.8809ZM61.7436 97.4643C61.6278 96.4711 61.6272 96.4711 61.6265 96.4712C61.6263 96.4712 61.6256 96.4713 61.6251 96.4714C61.6242 96.4715 61.6232 96.4716 61.6222 96.4717C61.6202 96.472 61.6181 96.4722 61.6158 96.4725C61.6113 96.4731 61.6062 96.4738 61.6006 96.4745C61.5895 96.4761 61.5762 96.4781 61.561 96.4805C61.5306 96.4854 61.4922 96.4924 61.4471 96.5021C61.3572 96.5213 61.2384 96.5518 61.1012 96.5996C60.8294 96.6942 60.4674 96.863 60.1165 97.1622C59.3607 97.8068 58.8423 98.8942 59.0434 100.543L61.0287 100.301C60.898 99.2296 61.2334 98.8383 61.4143 98.684C61.5318 98.5838 61.6588 98.5232 61.759 98.4883C61.8078 98.4713 61.8458 98.462 61.8661 98.4577C61.8761 98.4555 61.8812 98.4547 61.8805 98.4548C61.8801 98.4549 61.8783 98.4552 61.8748 98.4557C61.8731 98.4559 61.8709 98.4562 61.8683 98.4565C61.867 98.4567 61.8656 98.4569 61.8641 98.457C61.8634 98.4571 61.8626 98.4572 61.8618 98.4573C61.8614 98.4574 61.8608 98.4574 61.8606 98.4575C61.8599 98.4575 61.8593 98.4576 61.7436 97.4643ZM59.0834 100.726L62.1442 110.31L64.0494 109.702L60.9887 100.118L59.0834 100.726ZM63.0968 110.006C62.1222 110.23 62.1224 110.231 62.1225 110.232C62.1226 110.232 62.1227 110.232 62.1228 110.233C62.1231 110.234 62.1233 110.235 62.1235 110.236C62.124 110.238 62.1245 110.24 62.1251 110.242C62.1262 110.247 62.1275 110.252 62.1289 110.258C62.1319 110.27 62.1356 110.284 62.1402 110.301C62.1494 110.334 62.162 110.376 62.1786 110.427C62.2118 110.527 62.2618 110.661 62.3341 110.816C62.4777 111.123 62.7163 111.526 63.0993 111.908C63.9083 112.714 65.2216 113.287 67.1865 112.956L66.8533 110.983C65.4768 111.216 64.8286 110.807 64.5114 110.491C64.3312 110.312 64.2156 110.118 64.1457 109.968C64.1112 109.895 64.0896 109.836 64.078 109.8C64.0722 109.783 64.069 109.772 64.068 109.768C64.0675 109.766 64.0676 109.766 64.0681 109.769C64.0684 109.77 64.0688 109.771 64.0694 109.773C64.0696 109.775 64.0699 109.776 64.0702 109.777C64.0704 109.778 64.0706 109.779 64.0707 109.779C64.0708 109.78 64.071 109.78 64.071 109.781C64.0712 109.781 64.0713 109.782 63.0968 110.006ZM67.1448 112.962L88.306 110.299L88.0563 108.314L66.8951 110.977L67.1448 112.962ZM89.1335 109.002L83.8658 92.5531L81.9611 93.1631L87.2288 109.612L89.1335 109.002ZM107.355 108.026L144.04 103.285L143.783 101.301L107.098 106.043L107.355 108.026ZM144.782 102.785L155.846 83.24L154.105 82.2548L143.041 101.8L144.782 102.785ZM154.976 82.7474C155.939 83.0169 155.939 83.0164 155.939 83.016C155.939 83.0158 155.939 83.0153 155.939 83.0149C155.939 83.0142 155.94 83.0134 155.94 83.0125C155.94 83.0107 155.941 83.0086 155.942 83.0062C155.943 83.0015 155.944 82.9955 155.946 82.9884C155.95 82.9742 155.955 82.9553 155.961 82.932C155.972 82.8856 155.987 82.8214 156.004 82.7422C156.037 82.5842 156.076 82.3632 156.106 82.0997C156.164 81.5822 156.189 80.855 156.02 80.1051C155.848 79.3463 155.465 78.518 154.675 77.8979C153.884 77.2773 152.802 76.9576 151.413 76.9903L151.46 78.9897C152.522 78.9648 153.108 79.211 153.44 79.4715C153.773 79.7326 153.969 80.101 154.069 80.5459C154.172 80.9997 154.163 81.4835 154.118 81.876C154.097 82.0675 154.068 82.2263 154.046 82.3343C154.034 82.3881 154.025 82.4286 154.019 82.4534C154.016 82.4658 154.014 82.4743 154.012 82.4785C154.012 82.4806 154.012 82.4816 154.012 82.4815C154.012 82.4815 154.012 82.4812 154.012 82.4806C154.012 82.4803 154.012 82.4799 154.012 82.4795C154.012 82.4793 154.012 82.4789 154.012 82.4788C154.013 82.4784 154.013 82.4779 154.976 82.7474ZM151.223 77.013L99.5389 88.2882L99.9652 90.2422L151.649 78.967L151.223 77.013ZM98.8303 89.653L106.305 107.422L108.148 106.647L100.674 88.8775L98.8303 89.653ZM103.671 161.018C104.043 162.472 104.878 163.383 105.622 163.922C105.991 164.188 106.337 164.364 106.595 164.475C106.725 164.531 106.835 164.57 106.916 164.598C106.957 164.611 106.991 164.622 107.017 164.63C107.03 164.633 107.042 164.637 107.051 164.639C107.055 164.64 107.06 164.642 107.063 164.642C107.065 164.643 107.067 164.643 107.068 164.644C107.069 164.644 107.07 164.644 107.07 164.644C107.071 164.644 107.071 164.645 107.071 164.645C107.072 164.645 107.072 164.645 107.323 163.677C107.574 162.709 107.575 162.709 107.575 162.709C107.575 162.709 107.576 162.709 107.576 162.709C107.576 162.709 107.577 162.71 107.577 162.71C107.578 162.71 107.579 162.71 107.58 162.71C107.582 162.711 107.583 162.711 107.583 162.711C107.585 162.712 107.584 162.712 107.582 162.711C107.578 162.71 107.566 162.706 107.549 162.701C107.515 162.689 107.457 162.668 107.383 162.636C107.233 162.572 107.021 162.465 106.795 162.301C106.349 161.979 105.842 161.437 105.609 160.523L103.671 161.018ZM107.257 164.675L132.744 166.353L132.875 164.357L107.389 162.679L107.257 164.675ZM132.884 166.352C134.887 166.203 136.206 165.45 137.032 164.676C137.438 164.295 137.714 163.921 137.891 163.632C137.98 163.487 138.045 163.363 138.089 163.27C138.112 163.223 138.129 163.184 138.142 163.153C138.149 163.138 138.154 163.124 138.159 163.113C138.161 163.108 138.163 163.103 138.164 163.099C138.165 163.097 138.166 163.095 138.167 163.093C138.167 163.092 138.167 163.091 138.168 163.09C138.168 163.09 138.168 163.089 138.168 163.089C138.168 163.088 138.169 163.088 137.232 162.736C136.296 162.385 136.296 162.384 136.297 162.384C136.297 162.383 136.297 162.383 136.297 162.382C136.297 162.382 136.298 162.381 136.298 162.38C136.298 162.379 136.299 162.378 136.299 162.377C136.3 162.375 136.301 162.373 136.301 162.372C136.302 162.37 136.302 162.37 136.301 162.372C136.299 162.376 136.294 162.388 136.286 162.406C136.268 162.442 136.236 162.504 136.187 162.585C136.088 162.745 135.922 162.976 135.664 163.217C135.163 163.686 134.271 164.243 132.735 164.358L132.884 166.352ZM138.098 163.236L171.807 104.852L170.075 103.852L136.366 162.236L138.098 163.236ZM171.807 104.852C172.742 103.232 172.528 101.659 172.117 100.555C171.912 100.006 171.655 99.5579 171.45 99.2467C171.346 99.09 171.254 98.9652 171.185 98.8766C171.151 98.8323 171.122 98.7968 171.101 98.7707C171.09 98.7577 171.081 98.747 171.074 98.7387C171.07 98.7346 171.067 98.731 171.065 98.7281C171.063 98.7266 171.062 98.7253 171.061 98.7241C171.061 98.7236 171.06 98.723 171.06 98.7225C171.059 98.7223 171.059 98.7219 171.059 98.7218C171.059 98.7214 171.058 98.7211 170.308 99.3816C169.557 100.042 169.556 100.042 169.556 100.041C169.556 100.041 169.556 100.041 169.556 100.041C169.555 100.041 169.555 100.04 169.555 100.04C169.554 100.039 169.554 100.039 169.554 100.039C169.553 100.038 169.553 100.038 169.554 100.038C169.554 100.039 169.557 100.043 169.561 100.048C169.57 100.058 169.585 100.077 169.606 100.103C169.647 100.156 169.708 100.239 169.78 100.348C169.925 100.568 170.104 100.881 170.243 101.254C170.519 101.994 170.621 102.905 170.075 103.852L171.807 104.852ZM171.134 98.8186L158.723 80.6002L157.07 81.7263L169.481 99.9446L171.134 98.8186ZM158.777 80.6894C157.416 78.16 155.532 77.1895 153.934 76.9073C153.156 76.77 152.471 76.7991 151.979 76.8622C151.731 76.8939 151.529 76.9346 151.384 76.969C151.312 76.9862 151.253 77.0019 151.209 77.0142C151.188 77.0203 151.17 77.0257 151.156 77.0299C151.149 77.032 151.143 77.0339 151.138 77.0355C151.135 77.0363 151.133 77.037 151.131 77.0376C151.13 77.0379 151.129 77.0382 151.129 77.0385C151.128 77.0386 151.127 77.0388 151.127 77.0389C151.127 77.0391 151.126 77.0393 151.436 77.99C151.746 78.9407 151.746 78.9409 151.745 78.941C151.745 78.9411 151.745 78.9413 151.744 78.9414C151.744 78.9416 151.743 78.9417 151.743 78.9419C151.742 78.9422 151.741 78.9424 151.74 78.9426C151.739 78.943 151.739 78.943 151.74 78.9428C151.741 78.9423 151.746 78.9408 151.755 78.9384C151.772 78.9335 151.802 78.9253 151.845 78.9152C151.93 78.895 152.063 78.8677 152.233 78.846C152.575 78.8022 153.051 78.7824 153.586 78.8769C154.614 79.0583 155.96 79.6744 157.016 81.6371L158.777 80.6894ZM151.436 77.99C151.536 78.985 151.536 78.985 151.535 78.9851C151.535 78.9851 151.535 78.9851 151.534 78.9852C151.534 78.9852 151.533 78.9853 151.533 78.9853C151.532 78.9854 151.531 78.9855 151.531 78.9855C151.53 78.9856 151.53 78.9856 151.531 78.9855C151.533 78.9853 151.539 78.9848 151.549 78.9843C151.568 78.9831 151.6 78.9814 151.645 78.9806C151.734 78.979 151.867 78.981 152.026 78.9963C152.352 79.0277 152.741 79.1111 153.086 79.2966C153.415 79.4732 153.71 79.7433 153.897 80.1915C154.09 80.6543 154.204 81.3961 153.992 82.5693L155.96 82.9255C156.219 81.4946 156.126 80.3395 155.743 79.4221C155.355 78.49 154.706 77.8962 154.032 77.5345C153.375 77.1817 152.703 77.0523 152.218 77.0055C151.971 76.9817 151.761 76.9782 151.609 76.9809C151.533 76.9823 151.47 76.9852 151.424 76.9881C151.401 76.9896 151.382 76.991 151.367 76.9922C151.36 76.9928 151.353 76.9934 151.348 76.9938C151.346 76.9941 151.343 76.9943 151.341 76.9945C151.34 76.9946 151.339 76.9947 151.339 76.9948C151.338 76.9948 151.337 76.9949 151.337 76.9949C151.337 76.9949 151.336 76.995 151.436 77.99ZM154.11 82.2474L109.538 159.447L111.271 160.447L155.842 83.2474L154.11 82.2474ZM109.538 159.447C109.303 159.855 108.989 160.198 108.623 160.447L109.75 162.099C110.379 161.671 110.894 161.1 111.271 160.447L109.538 159.447ZM108.632 160.441C108.287 160.671 107.894 160.815 107.404 160.775C106.899 160.734 106.176 160.487 105.204 159.711L103.956 161.274C105.136 162.216 106.226 162.686 107.242 162.768C108.272 162.852 109.106 162.528 109.741 162.106L108.632 160.441ZM103.603 160.703L103.662 160.981L105.618 160.561L105.558 160.283L103.603 160.703Z"
        fill="#4E515D"
        stroke="url(#blueGradient)"
        mask="url(#path-1-inside-1_1624_1730)"
      />
    </svg>
  );
}

export default VsCode;
